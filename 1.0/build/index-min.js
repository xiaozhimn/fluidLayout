/*!build time : 2013-10-15 10:16:51 AM*/
KISSY.add("gallery/fluidLayout/1.0/index",function(a){function b(a){this.id="string"==typeof a.container?c.get("#"+a.container):a.container,this.colWidth=a.colWidth,this.colCount=a.colCount||4,this.cls=a.cls&&""!=a.cls?a.cls:"wf-cld",this.init()}var c=a.DOM;return a.augment(b,{maxArr:function(a){for(var b=a.length,c=a[0],d=1;b>d;d++)c<a[d]&&(c=a[d]);return c},getMar:function(a){var b=0;return a.currentStyle?b=parseInt(a.currentStyle.marginBottom):document.defaultView&&(b=parseInt(document.defaultView.getComputedStyle(a,null).marginBottom)),b},getMinCol:function(a){for(var b=a,c=b.length,d=b[0],e=0,f=0;c>f;f++)d>b[f]&&(d=b[f],e=f);return e},init:function(){for(var a=[],b=[],d=c.query("."+this.cls,this.id),e=d.length,f=0;f<this.colCount;f++)a[f]=0;for(var f=0;e>f;f++)d[f].h=d[f].offsetHeight+this.getMar(d[f]),b[f]=f;for(var f=0;e>f;f++){var g=this.getMinCol(a);d[f].style.left=g*this.colWidth+"px",d[f].style.top=a[g]+"px",a[g]+=d[f].h}this.id.style.height=this.maxArr(a)+"px"}}),b});